
before_script:
  - php -v
  - composer --version
  - composer install

atoum:
  stage: test
  script: ./vendor/bin/atoum
  coverage: '/Code coverage value: \d+\.\d+%/'

  artifacts:
    reports:
      junit: reports/atoum.xunit.xml

  cache:
    paths:
      - vendor/

lint:
  stage: test
  script:
    - mkdir -p reports
    - ./vendor/bin/phpcs --report=junit --report-file=reports/phpcs.junit.xml

  artifacts:
    reports:
      junit: reports/phpcs.junit.xml

  cache:
    paths:
      - vendor/
